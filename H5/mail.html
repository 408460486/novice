<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<link href="https://cdn.bootcss.com/font-awesome/5.8.0/css/all.css" rel="stylesheet">
	<style>

	*{
		box-sizing: border-box;
		margin: 0;

	}

		.close{
			position: absolute;
			float: right;
			top: 30px;
			right: 30px;
			font-size: 50px;
			transition: transform 1s;
		}
		.close:hover{
			transform: rotate(270deg);
		}
		.box{
			top: 10vh;
			position: absolute;
			color:#668b3ba3;
			height: 80vh;
			width: 90vw;
			left: -100vw;
			z-index: 1;
			transition: left 2s;
			opacity: 1;
			box-shadow: 6px 12px 27px #847f7f;
		}
		.show{
			background: #f7f6de;
			text-align: center;
			font-size: 30px;
			color:#668b3ba3;
			height: 80vh;
			width: 90vw;
			overflow: scroll;
		}
	.el-base {
		position: absolute;
		top: 40%;
		left: 50%;
		width: 80vw;
		background: #eac353;
		border-radius: 15px;
		transform: translateX(-50%) translateY(-50%);
		box-shadow: 1px 2px 10px 12px #464344;
	}
	.el-inner-space {
		border-radius: 15px;
		border-top: solid 20vw transparent;
		border-right: solid 40vw #f7f6de;
		border-bottom: solid 20vw #f7f6de;
		border-left: solid 40vw #f7f6de;
		height: 0;
		width: 0;

	}
	.el-flap {
		position: absolute;
		border-radius: 15px;
		top:0;
		left: 0;
		border-top: solid 20vw cornflowerblue;
		border-right: solid 40vw transparent;
		border-bottom: solid 20vw transparent;
		border-left: solid 40vw transparent;
		height: 0;
		width: 0;
		animation: el-open 2.5s ;


	}


	@keyframes el-open {
		0% {
			border-top: solid 20vw #3292e0;
			transform: rotateX(0deg);
			transform-origin: center top;
		}
		100% {
			border-top: solid 20vw #fad662;
			transform: rotateX(180deg);
			transform-origin: center top;
		}
	}
	.nav{
		position: absolute;
		width: 100%;
		height: 100px;
		border: 1px solid blueviolet;
		bottom: 0;
	}
	.li{
		display: inline-block;
		width: 33%;
		text-align: center;
		line-height: 100px;
	}
	</style>
<body id="body">

<div class="box" id="box">
	<div id="showStr" class="show">
	</div>
	<span class="close" onclick="quit()"> <i class="fa fa-times" aria-hidden="true"></i> </span>
</div>
<div style="display:none" id="string">
轻轻的我走了，
正如我轻轻的来；
我轻轻的招手，
作别西天的云彩。
	----
那河畔的金柳，
是夕阳中的新娘；
波光里的艳影，
在我的心头荡漾。
	----
软泥上的青荇，
油油的在水底招摇；
在康河的柔波里，
我甘心做一条水草！
	----
那榆荫下的一潭，
不是清泉，是天上虹；
揉碎在浮藻间，
沉淀着彩虹似的梦。
</div>

<div class="el-base" id="mail">
	<div class="el-inner-space">
		<div class="el-flap"></div>
		<button class="open" onclick="f()">O P E N </button>
	</div>

</div>

<nav class="nav">
	<div class="li">1</div>
	<div class="li">2</div>
	<div class="li">3</div>
</nav>
<script>
	const width_ = window.screen.width;
	const body= document.getElementById('body'),
			mail =  document.getElementById('mail');
	var show = document.getElementById('box');
	console.log(body);
	function f() {
		var timer = null;
		var index = 0;

		var str = document.getElementById("string").innerHTML;
		show.style.left = width_ * 0.1 +'px';
		body.removeChild(mail);
		setTimeout(function () {
			function type() {
				if (index == str.length) {
					//index = 0;
					clearInterval(timer)
				}
				document.getElementById("showStr").innerText = str.substring(0, index++) + "_";
			}
			timer = setInterval(type, 200);

		},3000);
		 //通过定时器来让文字逐步显示

	}
	function quit() {
		var op =1;
		function out() {
			if(show.style.opacity <0){
				body.removeChild(show);
				body.removeChild(show)
			}
			else {
				show.style.opacity = op;
				op -= 0.1;
			}

		}
		setInterval(out, 100)


	}



</script>
</body>
</html>
